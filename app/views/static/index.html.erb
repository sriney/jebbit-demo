<script type="text/x-handlebars">
  <div class="navbar">
    <div class="navbar-inner">
      <a class="brand" href="#">Demo</a>
      <ul class="nav">
        <li>{{#linkTo 'sites'}}Sites{{/linkTo}}</li>
        <li>{{#linkTo 'about'}}About{{/linkTo}}</li>
      </ul>

    </div>
  </div>
  {{outlet}}
</script>

<script type="text/x-handlebars" id="about">
  <div class='about'>
    <p>Jebbit Demo Site App</p>
    <p>Justin Gordon wrote this: http://www.railsonmaui.com</p>
    <p>Git Repository: </p>
  </div>
</script>

<script type="text/x-handlebars" id="sites">
  <div class='container-fluid'>
    <div class='row-fluid'>
      <div class='span3'>
        <table class='table'>
          <thead>
          <tr>
            <th>Recent Sites
              {{#linkTo "sites.new" class="btn"}}Add Site{{/linkTo}}
            </th>
          </tr>
          </thead>
          {{#each site in filteredContent}}
          <tr>
            <td>
              {{#linkTo site site}}{{site.name}}
              <small class='muted'>by {{site.author}}</small>
              {{/linkTo}}
            </td>
          </tr>
          {{/each}}
        </table>
      </div>
      <div class="span9">
        {{outlet}}
      </div>
    </div>
  </div>
</script>
<script type="text/x-handlebars" id="sites/index">
  <p class="text-warning">Please select a site</p>
</script>

<script type="text/x-handlebars" id="sites/new">
  <legend>Create Site</legend>
  {{partial 'site/edit'}}
  <button {{action 'save'}} class='btn'>Create</button>
  <button {{action cancel}} class='btn'>Cancel</button>
  {{partial 'site/view'}}
</script>

<script type="text/x-handlebars" id="site">
  {{#if isEditing}}
  {{partial 'site/edit'}}
  <button {{action 'doneEditing'}} class='btn'>Done</button>
  {{else}}
  <button {{action 'edit'}} class='btn'>Edit</button>
  <button {{action 'delete'}} class='btn'>Delete</button>
  {{/if}}
  {{partial 'site/view'}}
</script>

<script type="text/x-handlebars" id="site/_view">
  <h1>{{name}}</h1>
  <h4>by {{author}} <small class="muted">({{date createdAt}})</small></h4>
  <hr>
  <div class="intro">
    {{markdown img_url}}
  </div>
  <div class="below-the-fold">
    {{markdown landing_url}}
  </div>
</script>

<script type="text/x-handlebars" id="site/_edit">
  <p>{{view Ember.TextField valueBinding='name' cols="30"}}</p>
  <p>{{view Ember.TextArea valueBinding='img_url' cols="50"}}</p>
  <p>{{view Ember.TextArea valueBinding='landing_url' cols="80" rows="10"}}</p>
</script>
